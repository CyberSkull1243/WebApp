{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"H:/Mern Stack Projects/WebApp/Server/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"H:/Mern Stack Projects/WebApp/Server/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"H:/Mern Stack Projects/WebApp/Server/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{checkImage}from'../../utils/imageUpload';import{GLOBALTYPES}from'../../redux/actions/globalTypes';import{updateProfileUser}from'../../redux/actions/profileAction';var EditProfile=function EditProfile(_ref){var setOnEdit=_ref.setOnEdit;var initState={fullname:'',mobile:'',address:'',website:'',story:'',gender:''};var _useState=useState(initState),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var fullname=userData.fullname,mobile=userData.mobile,address=userData.address,website=userData.website,story=userData.story,gender=userData.gender;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),avatar=_useState4[0],setAvatar=_useState4[1];var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,theme=_useSelector.theme;var dispatch=useDispatch();useEffect(function(){setUserData(auth.user);},[auth.user]);var changeAvatar=function changeAvatar(e){var file=e.target.files[0];var err=checkImage(file);if(err)return dispatch({type:GLOBALTYPES.ALERT,payload:{error:err}});setAvatar(file);};var handleInput=function handleInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();dispatch(updateProfileUser({userData:userData,avatar:avatar,auth:auth}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"edit_profile\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn_close\",onClick:function onClick(){return setOnEdit(false);},children:\"Close\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info_avatar\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatar?URL.createObjectURL(avatar):auth.user.avatar,alt:\"avatar\",style:{filter:theme?'invert(1)':'invert(0)'}}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-camera\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Change\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",id:\"file_up\",accept:\"image/*\",onChange:changeAvatar})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fullname\",children:\"Full Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"fullname\",name:\"fullname\",value:fullname,onChange:handleInput}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-danger position-absolute\",style:{top:'50%',right:'5px',transform:'translateY(-50%)'},children:[fullname.length,\"/25\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mobile\",children:\"Mobile\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"mobile\",value:mobile,className:\"form-control\",onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:address,className:\"form-control\",onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"website\",children:\"Website\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"website\",value:website,className:\"form-control\",onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"story\",children:\"Story\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"story\",value:story,cols:\"30\",rows:\"4\",className:\"form-control\",onChange:handleInput}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-danger d-block text-right\",children:[story.length,\"/200\"]})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"gender\",children:\"Gender\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend px-0 mb-4\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",id:\"gender\",value:gender,className:\"custom-select text-capitalize\",onChange:handleInput,children:[/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info w-100\",type:\"submit\",children:\"Save\"})]})]});};export default EditProfile;","map":{"version":3,"sources":["H:/Mern Stack Projects/WebApp/server/client/src/components/profile/EditProfile.js"],"names":["React","useState","useEffect","useSelector","useDispatch","checkImage","GLOBALTYPES","updateProfileUser","EditProfile","setOnEdit","initState","fullname","mobile","address","website","story","gender","userData","setUserData","avatar","setAvatar","state","auth","theme","dispatch","user","changeAvatar","e","file","target","files","err","type","ALERT","payload","error","handleInput","name","value","handleSubmit","preventDefault","URL","createObjectURL","filter","top","right","transform","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { checkImage } from '../../utils/imageUpload'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { updateProfileUser } from '../../redux/actions/profileAction'\n\nconst EditProfile = ({setOnEdit}) => {\n    const initState = {\n        fullname: '', mobile: '', address: '', website: '', story: '', gender: ''\n    }\n    const [userData, setUserData] = useState(initState)\n    const { fullname, mobile, address, website, story, gender } = userData\n\n    const [avatar, setAvatar] = useState('')\n\n    const { auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        setUserData(auth.user)\n    }, [auth.user])\n\n\n    const changeAvatar = (e) => {\n        const file = e.target.files[0]\n\n        const err = checkImage(file)\n        if(err) return dispatch({\n            type: GLOBALTYPES.ALERT, payload: {error: err}\n        })\n\n        setAvatar(file)\n    }\n\n    const handleInput = e => {\n        const { name, value } = e.target\n        setUserData({ ...userData, [name]:value })\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        dispatch(updateProfileUser({userData, avatar, auth}))\n    }\n\n    return (\n        <div className=\"edit_profile\">\n            <button className=\"btn btn-danger btn_close\"\n            onClick={() => setOnEdit(false)}>\n                Close\n            </button>\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"info_avatar\">\n                    <img src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar} \n                    alt=\"avatar\" style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                    <span>\n                        <i className=\"fas fa-camera\" />\n                        <p>Change</p>\n                        <input type=\"file\" name=\"file\" id=\"file_up\"\n                        accept=\"image/*\" onChange={changeAvatar} />\n                    </span>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"fullname\">Full Name</label>\n                    <div className=\"position-relative\">\n                        <input type=\"text\" className=\"form-control\" id=\"fullname\"\n                        name=\"fullname\" value={fullname} onChange={handleInput} />\n                        <small className=\"text-danger position-absolute\"\n                        style={{top: '50%', right: '5px', transform: 'translateY(-50%)'}}>\n                            {fullname.length}/25\n                        </small>\n                    </div>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"mobile\">Mobile</label>\n                    <input type=\"text\" name=\"mobile\" value={mobile}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"address\">Address</label>\n                    <input type=\"text\" name=\"address\" value={address}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"website\">Website</label>\n                    <input type=\"text\" name=\"website\" value={website}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"story\">Story</label>\n                    <textarea name=\"story\" value={story} cols=\"30\" rows=\"4\"\n                    className=\"form-control\" onChange={handleInput} />\n\n                    <small className=\"text-danger d-block text-right\">\n                        {story.length}/200\n                    </small>\n                </div>\n\n                <label htmlFor=\"gender\">Gender</label>\n                <div className=\"input-group-prepend px-0 mb-4\">\n                    <select name=\"gender\" id=\"gender\" value={gender}\n                    className=\"custom-select text-capitalize\"\n                    onChange={handleInput}>\n                        <option value=\"male\">Male</option>\n                        <option value=\"female\">Female</option>\n                        <option value=\"other\">Other</option>\n                    </select>\n                </div>\n\n                <button className=\"btn btn-info w-100\" type=\"submit\">Save</button>\n            </form>\n        </div>\n    )\n}\n\nexport default EditProfile\n"]},"metadata":{},"sourceType":"module"}