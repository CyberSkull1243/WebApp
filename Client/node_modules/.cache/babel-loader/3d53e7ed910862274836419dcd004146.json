{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import Avatar from'../Avatar';import{imageShow,videoShow}from'../../utils/mediaShow';import{useSelector,useDispatch}from'react-redux';import{deleteMessages}from'../../redux/actions/messageAction';import Times from'./Times';var MsgDisplay=function MsgDisplay(_ref){var user=_ref.user,msg=_ref.msg,theme=_ref.theme,data=_ref.data;var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth;var dispatch=useDispatch();var handleDeleteMessages=function handleDeleteMessages(){if(!data)return;if(window.confirm('Do you want to delete?')){dispatch(deleteMessages({msg:msg,data:data,auth:auth}));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat_title\",children:[/*#__PURE__*/_jsx(Avatar,{src:user.avatar,size:\"small-avatar\"}),/*#__PURE__*/_jsx(\"span\",{children:user.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"you_content\",children:[user._id===auth.user._id&&/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash text-danger\",onClick:handleDeleteMessages}),/*#__PURE__*/_jsxs(\"div\",{children:[msg.text&&/*#__PURE__*/_jsx(\"div\",{className:\"chat_text\",style:{filter:theme?'invert(1)':'invert(0)'},children:msg.text}),msg.media.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{children:item.url.match(/video/i)?videoShow(item.url,theme):imageShow(item.url,theme)},index);})]}),msg.call&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn d-flex align-items-center py-3\",style:{background:'#eee',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons font-weight-bold mr-1\",style:{fontSize:'2.5rem',color:msg.call.times===0?'crimson':'green',filter:theme?'invert(1)':'invert(0)'},children:msg.call.times===0?msg.call.video?'videocam_off':'phone_disabled':msg.call.video?'video_camera_front':'call'}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"h6\",{children:msg.call.video?'Video Call':'Audio Call'}),/*#__PURE__*/_jsx(\"small\",{children:msg.call.times>0?/*#__PURE__*/_jsx(Times,{total:msg.call.times}):new Date(msg.createdAt).toLocaleTimeString()})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chat_time\",children:new Date(msg.createdAt).toLocaleString()})]});};export default MsgDisplay;","map":{"version":3,"sources":["H:/Mern Stack Projects/WebApp/server/client/src/components/message/MsgDisplay.js"],"names":["React","Avatar","imageShow","videoShow","useSelector","useDispatch","deleteMessages","Times","MsgDisplay","user","msg","theme","data","state","auth","dispatch","handleDeleteMessages","window","confirm","avatar","username","_id","text","filter","media","map","item","index","url","match","call","background","borderRadius","fontSize","color","times","video","Date","createdAt","toLocaleTimeString","toLocaleString"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Avatar from '../Avatar'\nimport { imageShow, videoShow } from '../../utils/mediaShow'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { deleteMessages } from '../../redux/actions/messageAction'\nimport Times from './Times'\n\nconst MsgDisplay = ({user, msg, theme, data}) => {\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleDeleteMessages = () => {\n        if(!data) return;\n        \n        if(window.confirm('Do you want to delete?')){\n            dispatch(deleteMessages({msg, data, auth}))\n        }\n    }\n\n    return (\n        <>\n            <div className=\"chat_title\">\n                <Avatar src={user.avatar} size=\"small-avatar\" />\n                <span>{user.username}</span>\n            </div>\n\n            <div className=\"you_content\">\n                { \n                    user._id === auth.user._id && \n                    <i className=\"fas fa-trash text-danger\"\n                    onClick={handleDeleteMessages} />\n                }\n\n                <div>\n                    {\n                        msg.text && \n                        <div className=\"chat_text\"\n                        style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\n                            {msg.text}\n                        </div>\n                    }\n                    {\n                        msg.media.map((item, index) => (\n                            <div key={index}>\n                                {\n                                    item.url.match(/video/i)\n                                    ? videoShow(item.url, theme)\n                                    : imageShow(item.url, theme)\n                                }\n                            </div>\n                        ))\n                    }\n                </div>\n            \n                {\n                    msg.call &&\n                    <button className=\"btn d-flex align-items-center py-3\"\n                    style={{background: '#eee', borderRadius: '10px'}}>\n\n                        <span className=\"material-icons font-weight-bold mr-1\"\n                        style={{ \n                            fontSize: '2.5rem', color: msg.call.times === 0 ? 'crimson' : 'green',\n                            filter: theme ? 'invert(1)' : 'invert(0)'\n                        }}>\n                            {\n                                msg.call.times === 0\n                                ? msg.call.video ? 'videocam_off' : 'phone_disabled'\n                                : msg.call.video ? 'video_camera_front' : 'call'\n                            }\n                        </span>\n\n                        <div className=\"text-left\">\n                            <h6>{msg.call.video ? 'Video Call' : 'Audio Call'}</h6>\n                            <small>\n                                {\n                                    msg.call.times > 0 \n                                    ? <Times total={msg.call.times} />\n                                    : new Date(msg.createdAt).toLocaleTimeString()\n                                }\n                            </small>\n                        </div>\n\n                    </button>\n                }\n            \n            </div>\n\n            <div className=\"chat_time\">\n                {new Date(msg.createdAt).toLocaleString()}\n            </div>\n        </>\n    )\n}\n\nexport default MsgDisplay\n"]},"metadata":{},"sourceType":"module"}