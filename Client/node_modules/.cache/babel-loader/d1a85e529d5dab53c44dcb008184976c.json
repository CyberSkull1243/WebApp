{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectSpread from\"H:/Mern Stack Projects/WebApp/Server/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useRef}from'react';import{useSelector,useDispatch}from'react-redux';import{POST_TYPES}from'./redux/actions/postAction';import{GLOBALTYPES}from'./redux/actions/globalTypes';import{NOTIFY_TYPES}from'./redux/actions/notifyAction';import{MESS_TYPES}from'./redux/actions/messageAction';import audiobell from'./audio/got-it-done-613.mp3';var spawnNotification=function spawnNotification(body,icon,url,title){var options={body:body,icon:icon};var n=new Notification(title,options);n.onclick=function(e){e.preventDefault();window.open(url,'_blank');};};var SocketClient=function SocketClient(){var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,socket=_useSelector.socket,notify=_useSelector.notify,online=_useSelector.online,call=_useSelector.call;var dispatch=useDispatch();var audioRef=useRef();// joinUser\nuseEffect(function(){socket.emit('joinUser',auth.user);},[socket,auth.user]);// Likes\nuseEffect(function(){socket.on('likeToClient',function(newPost){dispatch({type:POST_TYPES.UPDATE_POST,payload:newPost});});return function(){return socket.off('likeToClient');};},[socket,dispatch]);useEffect(function(){socket.on('unLikeToClient',function(newPost){dispatch({type:POST_TYPES.UPDATE_POST,payload:newPost});});return function(){return socket.off('unLikeToClient');};},[socket,dispatch]);// Comments\nuseEffect(function(){socket.on('createCommentToClient',function(newPost){dispatch({type:POST_TYPES.UPDATE_POST,payload:newPost});});return function(){return socket.off('createCommentToClient');};},[socket,dispatch]);useEffect(function(){socket.on('deleteCommentToClient',function(newPost){dispatch({type:POST_TYPES.UPDATE_POST,payload:newPost});});return function(){return socket.off('deleteCommentToClient');};},[socket,dispatch]);// Follow\nuseEffect(function(){socket.on('followToClient',function(newUser){dispatch({type:GLOBALTYPES.AUTH,payload:_objectSpread(_objectSpread({},auth),{},{user:newUser})});});return function(){return socket.off('followToClient');};},[socket,dispatch,auth]);useEffect(function(){socket.on('unFollowToClient',function(newUser){dispatch({type:GLOBALTYPES.AUTH,payload:_objectSpread(_objectSpread({},auth),{},{user:newUser})});});return function(){return socket.off('unFollowToClient');};},[socket,dispatch,auth]);// Notification\nuseEffect(function(){socket.on('createNotifyToClient',function(msg){dispatch({type:NOTIFY_TYPES.CREATE_NOTIFY,payload:msg});if(notify.sound)audioRef.current.play();spawnNotification(msg.user.username+' '+msg.text,msg.user.avatar,msg.url,'V-NETWORK');});return function(){return socket.off('createNotifyToClient');};},[socket,dispatch,notify.sound]);useEffect(function(){socket.on('removeNotifyToClient',function(msg){dispatch({type:NOTIFY_TYPES.REMOVE_NOTIFY,payload:msg});});return function(){return socket.off('removeNotifyToClient');};},[socket,dispatch]);// Message\nuseEffect(function(){socket.on('addMessageToClient',function(msg){dispatch({type:MESS_TYPES.ADD_MESSAGE,payload:msg});dispatch({type:MESS_TYPES.ADD_USER,payload:_objectSpread(_objectSpread({},msg.user),{},{text:msg.text,media:msg.media})});});return function(){return socket.off('addMessageToClient');};},[socket,dispatch]);// Check User Online / Offline\nuseEffect(function(){socket.emit('checkUserOnline',auth.user);},[socket,auth.user]);useEffect(function(){socket.on('checkUserOnlineToMe',function(data){data.forEach(function(item){if(!online.includes(item.id)){dispatch({type:GLOBALTYPES.ONLINE,payload:item.id});}});});return function(){return socket.off('checkUserOnlineToMe');};},[socket,dispatch,online]);useEffect(function(){socket.on('checkUserOnlineToClient',function(id){if(!online.includes(id)){dispatch({type:GLOBALTYPES.ONLINE,payload:id});}});return function(){return socket.off('checkUserOnlineToClient');};},[socket,dispatch,online]);// Check User Offline\nuseEffect(function(){socket.on('CheckUserOffline',function(id){dispatch({type:GLOBALTYPES.OFFLINE,payload:id});});return function(){return socket.off('CheckUserOffline');};},[socket,dispatch]);// Call User\nuseEffect(function(){socket.on('callUserToClient',function(data){dispatch({type:GLOBALTYPES.CALL,payload:data});});return function(){return socket.off('callUserToClient');};},[socket,dispatch]);useEffect(function(){socket.on('userBusy',function(data){dispatch({type:GLOBALTYPES.ALERT,payload:{error:\"\".concat(call.username,\" is busy!\")}});});return function(){return socket.off('userBusy');};},[socket,dispatch,call]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"audio\",{controls:true,ref:audioRef,style:{display:'none'},children:/*#__PURE__*/_jsx(\"source\",{src:audiobell,type:\"audio/mp3\"})})});};export default SocketClient;","map":{"version":3,"sources":["H:/Mern Stack Projects/WebApp/server/client/src/SocketClient.js"],"names":["React","useEffect","useRef","useSelector","useDispatch","POST_TYPES","GLOBALTYPES","NOTIFY_TYPES","MESS_TYPES","audiobell","spawnNotification","body","icon","url","title","options","n","Notification","onclick","e","preventDefault","window","open","SocketClient","state","auth","socket","notify","online","call","dispatch","audioRef","emit","user","on","newPost","type","UPDATE_POST","payload","off","newUser","AUTH","msg","CREATE_NOTIFY","sound","current","play","username","text","avatar","REMOVE_NOTIFY","ADD_MESSAGE","ADD_USER","media","data","forEach","item","includes","id","ONLINE","OFFLINE","CALL","ALERT","error","display"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { POST_TYPES } from './redux/actions/postAction'\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\nimport { NOTIFY_TYPES } from './redux/actions/notifyAction'\nimport { MESS_TYPES } from './redux/actions/messageAction'\n\nimport audiobell from './audio/got-it-done-613.mp3'\n\n\nconst spawnNotification = (body, icon, url, title) => {\n    let options = {\n        body, icon\n    }\n    let n = new Notification(title, options)\n\n    n.onclick = e => {\n        e.preventDefault()\n        window.open(url, '_blank')\n    }\n}\n\nconst SocketClient = () => {\n    const { auth, socket, notify, online, call } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const audioRef = useRef()\n\n    // joinUser\n    useEffect(() => {\n        socket.emit('joinUser', auth.user)\n    },[socket, auth.user])\n\n    // Likes\n    useEffect(() => {\n        socket.on('likeToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('likeToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('unLikeToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('unLikeToClient')\n    },[socket, dispatch])\n\n\n    // Comments\n    useEffect(() => {\n        socket.on('createCommentToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('createCommentToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('deleteCommentToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('deleteCommentToClient')\n    },[socket, dispatch])\n\n\n    // Follow\n    useEffect(() => {\n        socket.on('followToClient', newUser =>{\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n        })\n\n        return () => socket.off('followToClient')\n    },[socket, dispatch, auth])\n\n    useEffect(() => {\n        socket.on('unFollowToClient', newUser =>{\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n        })\n\n        return () => socket.off('unFollowToClient')\n    },[socket, dispatch, auth])\n\n\n    // Notification\n    useEffect(() => {\n        socket.on('createNotifyToClient', msg =>{\n            dispatch({type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg})\n\n            if(notify.sound) audioRef.current.play()\n            spawnNotification(\n                msg.user.username + ' ' + msg.text,\n                msg.user.avatar,\n                msg.url,\n                'V-NETWORK'\n            )\n        })\n\n        return () => socket.off('createNotifyToClient')\n    },[socket, dispatch, notify.sound])\n\n    useEffect(() => {\n        socket.on('removeNotifyToClient', msg =>{\n            dispatch({type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg})\n        })\n\n        return () => socket.off('removeNotifyToClient')\n    },[socket, dispatch])\n\n\n    // Message\n    useEffect(() => {\n        socket.on('addMessageToClient', msg =>{\n            dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\n\n            dispatch({\n                type: MESS_TYPES.ADD_USER, \n                payload: {\n                    ...msg.user, \n                    text: msg.text, \n                    media: msg.media\n                }\n            })\n        })\n\n        return () => socket.off('addMessageToClient')\n    },[socket, dispatch])\n\n    // Check User Online / Offline\n    useEffect(() => {\n        socket.emit('checkUserOnline', auth.user)\n    },[socket, auth.user])\n\n    useEffect(() => {\n        socket.on('checkUserOnlineToMe', data =>{\n            data.forEach(item => {\n                if(!online.includes(item.id)){\n                    dispatch({type: GLOBALTYPES.ONLINE, payload: item.id})\n                }\n            })\n        })\n\n        return () => socket.off('checkUserOnlineToMe')\n    },[socket, dispatch, online])\n\n    useEffect(() => {\n        socket.on('checkUserOnlineToClient', id =>{\n            if(!online.includes(id)){\n                dispatch({type: GLOBALTYPES.ONLINE, payload: id})\n            }\n        })\n\n        return () => socket.off('checkUserOnlineToClient')\n    },[socket, dispatch, online])\n\n    // Check User Offline\n    useEffect(() => {\n        socket.on('CheckUserOffline', id =>{\n            dispatch({type: GLOBALTYPES.OFFLINE, payload: id})\n        })\n\n        return () => socket.off('CheckUserOffline')\n    },[socket, dispatch])\n\n\n    // Call User\n    useEffect(() => {\n        socket.on('callUserToClient', data =>{\n            dispatch({type: GLOBALTYPES.CALL, payload: data})\n        })\n\n        return () => socket.off('callUserToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('userBusy', data =>{\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: `${call.username} is busy!`}})\n        })\n\n        return () => socket.off('userBusy')\n    },[socket, dispatch, call])\n\n\n\n    return (\n        <>\n            <audio controls ref={audioRef} style={{display: 'none'}} >\n                <source src={audiobell} type=\"audio/mp3\" />\n            </audio>\n        </>\n    )\n}\n\nexport default SocketClient\n"]},"metadata":{},"sourceType":"module"}