{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"H:/Mern Stack Projects/WebApp/Server/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Avatar from'../Avatar';import EditProfile from'./EditProfile';import FollowBtn from'../FollowBtn';import Followers from'./Followers';import Following from'./Following';import{GLOBALTYPES}from'../../redux/actions/globalTypes';var Info=function Info(_ref){var id=_ref.id,auth=_ref.auth,profile=_ref.profile,dispatch=_ref.dispatch;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),onEdit=_useState4[0],setOnEdit=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showFollowers=_useState6[0],setShowFollowers=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showFollowing=_useState8[0],setShowFollowing=_useState8[1];useEffect(function(){if(id===auth.user._id){setUserData([auth.user]);}else{var newData=profile.users.filter(function(user){return user._id===id;});setUserData(newData);}},[id,auth,dispatch,profile.users]);useEffect(function(){if(showFollowers||showFollowing||onEdit){dispatch({type:GLOBALTYPES.MODAL,payload:true});}else{dispatch({type:GLOBALTYPES.MODAL,payload:false});}},[showFollowers,showFollowing,onEdit,dispatch]);return/*#__PURE__*/_jsx(\"div\",{className:\"info\",children:userData.map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"info_container\",children:[/*#__PURE__*/_jsx(Avatar,{src:user.avatar,size:\"supper-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info_content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info_content_title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:user.username}),user._id===auth.user._id?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-info\",onClick:function onClick(){return setOnEdit(true);},children:\"Edit Profile\"}):/*#__PURE__*/_jsx(FollowBtn,{user:user})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"follow_btn\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"mr-4\",onClick:function onClick(){return setShowFollowers(true);},children:[user.followers.length,\" Followers\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-4\",onClick:function onClick(){return setShowFollowing(true);},children:[user.following.length,\" Following\"]})]}),/*#__PURE__*/_jsxs(\"h6\",{children:[user.fullname,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:user.mobile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:user.address}),/*#__PURE__*/_jsx(\"h6\",{className:\"m-0\",children:user.email}),/*#__PURE__*/_jsx(\"a\",{href:user.website,target:\"_blank\",rel:\"noreferrer\",children:user.website}),/*#__PURE__*/_jsx(\"p\",{children:user.story})]}),onEdit&&/*#__PURE__*/_jsx(EditProfile,{setOnEdit:setOnEdit}),showFollowers&&/*#__PURE__*/_jsx(Followers,{users:user.followers,setShowFollowers:setShowFollowers}),showFollowing&&/*#__PURE__*/_jsx(Following,{users:user.following,setShowFollowing:setShowFollowing})]},user._id);})});};export default Info;","map":{"version":3,"sources":["H:/Mern Stack Projects/WebApp/server/client/src/components/profile/Info.js"],"names":["React","useState","useEffect","Avatar","EditProfile","FollowBtn","Followers","Following","GLOBALTYPES","Info","id","auth","profile","dispatch","userData","setUserData","onEdit","setOnEdit","showFollowers","setShowFollowers","showFollowing","setShowFollowing","user","_id","newData","users","filter","type","MODAL","payload","map","avatar","username","followers","length","following","fullname","mobile","address","email","website","story"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Avatar from '../Avatar'\nimport EditProfile from './EditProfile'\nimport FollowBtn from '../FollowBtn'\nimport Followers from './Followers'\nimport Following from './Following'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Info = ({id, auth, profile, dispatch}) => {\n    const [userData, setUserData] = useState([])\n    const [onEdit, setOnEdit] = useState(false)\n\n    const [showFollowers, setShowFollowers] = useState(false)\n    const [showFollowing, setShowFollowing] = useState(false)\n\n    useEffect(() => {\n        if(id === auth.user._id){\n            setUserData([auth.user])\n        }else{\n            const newData = profile.users.filter(user => user._id === id)\n            setUserData(newData)\n        }\n    }, [id, auth, dispatch, profile.users])\n\n\n    useEffect(() => {\n        if(showFollowers || showFollowing || onEdit){\n            dispatch({ type: GLOBALTYPES.MODAL, payload: true})\n        }else{\n            dispatch({ type: GLOBALTYPES.MODAL, payload: false})\n        }\n    },[showFollowers, showFollowing, onEdit, dispatch])\n    \n\n    return (\n        <div className=\"info\">\n            {\n                userData.map(user => (\n                    <div className=\"info_container\" key={user._id}>\n                        <Avatar src={user.avatar} size=\"supper-avatar\" />\n\n                        <div className=\"info_content\">\n                            <div className=\"info_content_title\">\n                                <h2>{user.username}</h2>\n                                {\n                                    user._id === auth.user._id\n                                    ?  <button className=\"btn btn-outline-info\"\n                                    onClick={() => setOnEdit(true)}>\n                                        Edit Profile\n                                    </button>\n                                    \n                                    : <FollowBtn user={user} />\n                                }\n                               \n                                \n                            </div>\n\n                            <div className=\"follow_btn\">\n                                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\n                                    {user.followers.length} Followers\n                                </span>\n                                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\n                                    {user.following.length} Following\n                                </span>\n                            </div>\n\n                            <h6>{user.fullname} <span className=\"text-danger\">{user.mobile}</span></h6>\n                            <p className=\"m-0\">{user.address}</p>\n                            <h6 className=\"m-0\">{user.email}</h6>\n                            <a href={user.website} target=\"_blank\" rel=\"noreferrer\">\n                                {user.website}\n                            </a>\n                            <p>{user.story}</p>\n                        </div>\n\n                        {\n                            onEdit && <EditProfile setOnEdit={setOnEdit} />\n                        }\n\n                        {\n                            showFollowers &&\n                            <Followers \n                            users={user.followers} \n                            setShowFollowers={setShowFollowers} \n                            />\n                        }\n                        {\n                            showFollowing &&\n                            <Following \n                            users={user.following} \n                            setShowFollowing={setShowFollowing} \n                            />\n                        }\n                    </div>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Info\n"]},"metadata":{},"sourceType":"module"}